---
permalink: online-help-96-97/concept_snapmirror_licensing.html
sidebar: sidebar
keywords: online, help, snapmirror, licensing, synchronous, clous, data, protection, bundle, dpo, installation
summary: "With the introduction of ONTAP 9.3, licensing has been simplified for replicating between ONTAP instances. In ONTAP 9 releases, the SnapMirror license supports both vault and mirror relationships. Users can now purchase a SnapMirror license to support ONTAP replication for both backup and disaster recovery use cases."
---
= SnapMirror licensing
:icons: font
:imagesdir: ../media/

[.lead]
With the introduction of ONTAP 9.3, licensing has been simplified for replicating between ONTAP instances. In ONTAP 9 releases, the SnapMirror license supports both vault and mirror relationships. Users can now purchase a SnapMirror license to support ONTAP replication for both backup and disaster recovery use cases.

Prior to the ONTAP 9.3 release, two licenses were available to support different replication use cases. A SnapVault license was needed to configure _vault_ relationships between ONTAP instances, where the DP instance could retain a higher number of Snapshot copies to support backup use cases where retention times are longer. A SnapMirror license was needed to configure _mirror_ relationships between ONTAP instances, where each ONTAP instance would maintain the same number of snapshot copies (that is, a _mirror_ image) to support disaster recovery use cases where cluster failovers would be possible. Both SnapMirror and SnapVault licenses can continue to be used and supported for ONTAP 8.x and 9.x releases.

SnapVault licenses continue to function and are supported for both ONTAP 8.x and 9.x releases, but they are no longer being sold. The SnapMirror license continues to be available and can be used in place of SnapVault and can be used for both mirror and vault configurations.

For ONTAP asynchronous replication, beginning with ONTAP 9.3 a single unified replication engine is used to configure extended data protection mode (XDP) policies, where the SnapMirror license can be configured for a mirror policy, a vault policy, or a mirror-vault policy. A SnapMirror license is required on both the source and destination clusters. A SnapVault license is not required if a SnapMirror license is already installed.

== SnapMirror Synchronous license

Starting with ONTAP 9.5, SnapMirror Synchronous relationships are supported. You require the following licenses for creating a SnapMirror Synchronous relationship:

* The SnapMirror Synchronous license is required on both the source cluster and the destination cluster.
+
If your system was purchased before June 2019 with a Premium or Flash Bundle, you can download a NetApp master key to get the required SnapMirror Synchronous license from the NetApp Support Site: https://mysupport.netapp.com/NOW/knowledge/docs/olio/guides/master_lickey/[Master License Keys]

* The SnapMirror license is required on both the source cluster and the destination cluster.

== SnapMirror Cloud license

Starting with ONTAP 9.8, the SnapMirror Cloud license provides asynchronous replication of Snapshot copies from ONTAP instances to object storage endpoints. Replication targets can be configured using both on-premises object stores as well as S3 and S3-compatible public cloud object storage services. SnapMirror Cloud relationships are supported from ONTAP systems to pre-qualified object storage targets. ONTAP 9.8 approved object storage targets include ONTAP S3, StorageGRID, AWS S3 and S3-IA, Microsoft Azure Blob Hot, and GCP Standard storage.

SnapMirror Cloud is not available as a standalone license and is available only with purchase of the Hybrid Cloud Bundle. Beginning with ONTAP 9.8, the Hybrid Cloud Bundle includes licenses for both SnapMirror Cloud and FabricPool. Similarly, the SnapMirror license is not available as a standalone license and is available only with purchase of the Data Protection Bundle.

You require the following licenses for creating a SnapMirror Cloud relationship:

* Both a SnapMirror license (purchased through Data Protection Bundle, or through Premium Bundle) and a SnapMirror Cloud license (purchased through Hybrid Cloud Bundle) is replicating directly to the object store endpoint.
* When configuring a multi-policy replication workflow (for example, Disk-to-Disk-to-Cloud), a SnapMirror license is required on all ONTAP instances, while the SnapMirror Cloud license is only required for the source cluster which is replicating directly to the object storage endpoint.

SnapMirror Cloud is an end user license which can be purchased from NetApp or from an approved NetApp reseller partner. The SnapMirror Cloud license provides end user entitlement but does not enable asynchronous ONTAP to object storage replication. To invoke ONTAP APIs for SnapMirror Cloud, a unique API key from an authorized application is required. Authorized and licensed applications used to orchestrate SnapMirror Cloud replication are available from multiple third-party application providers. These authorized applications will embed the unique API key to invoke ONTAP APIs. A combination of the SnapMirror Cloud end user license and an authorized third-party backup application is required to orchestrate and enable SnapMirror Cloud replication.

A list of authorized SnapMirror Cloud third-party applications is published on the NetApp web site.

== Data Protection Bundle

Starting with ONTAP 9.1, new ONTAP data protection features were packaged with the FAS8200 as part of a solution called the Data Protection Bundle. This new hardware and software bundle included a new DP_Optimized (DPO) license that provided unique ONTAP features for secondary workloads. With the introduction of ONTAP 9.3 the DPO license increased the number of volumes per node from 1,000 to 1,500. Also introduced with ONTAP 9.3 were new configurations of the Data Protection Bundle based on configurations of FAS2620.

The DPO license was specifically designed for ONTAP clusters that were to be dedicated as secondary targets for SnapMirror replication. In addition to increasing the maximum volumes per node on the DPO controller, the DPO license also modified controller QoS settings to support greater replication traffic at the expense of application I/O. For this reason, the DPO license should never be installed on a cluster that supports application I/O, as application performance would be impacted. Later, Data Protection Bundles based on the FAS8200 and FAS2620 were offered as a solution and included programmatic free licenses based on the customer environment. When purchasing the solution bundles, free SnapMirror licenses would be provided for select older clusters which replicated to the DPO secondary. While the DPO license is needed on the Data Protection solution cluster, primary clusters from the following platform list would be provided free SnapMirror licenses. Primary clusters not included in this list would require purchase of SnapMirror licenses.

* FAS2200 Series
* FAS3000 Series
* FAS6000 Series
* FAS8000 Series

== Data Protection Optimized (DPO) License

Data Protection hardware and software solution bundles introduced with ONTAP 9.1 and 9.3 were based on FAS8200 and FAS2620 only. As these platforms matured and new platforms were introduced new requests to support ONTAP features for secondary replication use cases increased. As a result, a new standalone DPO license was introduced in November 2018 with ONTAP 9.5 release.

The standalone DPO license was supported on both FAS and AFF platforms and could be purchased pre-configured with new clusters or added to deployed clusters as a software upgrade in the field. Because these new DPO licenses were not part of a hardware and software solution bundle they carried a lower price and free SnapMirror licenses for primary clusters were not provided. Secondary clusters configured with the a la carte DPO license must also purchase a SnapMirror license, and all primary clusters replicating to the DPO secondary cluster must purchase a SnapMirror license.

Additional ONTAP features were delivered with the DPO across multiple ONTAP releases.

[options="header"]
|===
| Feature| 9.3| 9.4| 9.5| 9.6| 9.7a|
Max vols/node
a|
1500
a|
1500
a|
1500
a|
1500/2500
a|
1500/2500
a|
Max concurrent repl sessions
a|
100
a|
200
a|
200
a|
200
a|
200
a|
Workload bias*
a|
client apps
a|
Apps/SM
a|
SnapMirror
a|
SnapMirror
a|
SnapMirror
a|
Cross volume aggregate deduplication for HDD
a|
No
a|
Yes
a|
Yes
a|
Yes
a|
Yes
|===
* Details about priority for the SnapMirror backoff (workload bias) feature:

* Client: cluster I/O priority is set to client workloads (production apps), not SnapMirror traffic.
* Equality: SnapMirror replication requests have equal priority to I/O for production apps.
* SnapMirror: all SnapMirror I/O requests have higher priority that I/O for production apps.

[options="header"]
|===
|  | 9.3--9.5 Without DPO| 9.3--9.5 With DPO| 9.6 Without DPO| 9.6 With DPO| 9.7 Without DPO| 9.7 With DPO
a|
FAS2620
a|
1000
a|
1500
a|
1000
a|
1500
a|
1000
a|
1500
a|
FAS2650
a|
1000
a|
1500
a|
1000
a|
1500
a|
1000
a|
1500
a|
FAS2720
a|
1000
a|
1500
a|
1000
a|
1500
a|
1000
a|
1500
a|
FAS2750
a|
1000
a|
1500
a|
1000
a|
1500
a|
1000
a|
1500
a|
A200
a|
1000
a|
1500
a|
1000
a|
1500
a|
1000
a|
1500
a|
A200
a|
1000
a|
1500
a|
1000
a|
1500
a|
1000
a|
1500
a|
FAS8200/8300
a|
1000
a|
1500
a|
1000
a|
2500
a|
1000
a|
2500
a|
A300
a|
1000
a|
1500
a|
1000
a|
2500
a|
2500
a|
2500
a|
A400
a|
1000
a|
1500
a|
1000
a|
2500
a|
2500
a|
2500
a|
FAS8700/9000
a|
1000
a|
1500
a|
1000
a|
2500
a|
1000
a|
2500
a|
A700
a|
1000
a|
1500
a|
1000
a|
2500
a|
2500
a|
2500
a|
A700s
a|
1000
a|
1500
a|
1000
a|
2500
a|
2500
a|
2500
a|
A800
a|
1000
a|
1500
a|
1000
a|
2500
a|
2500
a|
2500
|===

== Considerations for all new DPO installations

* Once enabled, the DPO license feature cannot be disabled or undone.
* Installation of the DPO license requires a re-boot of ONTAP or failover to enable.
* The DPO solution is intended for secondary storage workloads; application workload performance on DPO clusters may be impacted
* The DPO license is supported on a select list of NetApp storage platform models.
* DPO features vary by ONTAP release. Refer to the compatibility table for reference.
